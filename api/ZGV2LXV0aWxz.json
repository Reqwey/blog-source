{"title":"开发备忘录","date":"2022-12-01T00:00:00.000Z","date_formatted":{"ll":"Dec 1, 2022","L":"12/01/2022","MM-DD":"12-01"},"link":"dev-utils","tags":["Cache"],"updated":"2023-01-15T10:14:07.058Z","content":"<h2 id=\"windows-下-ssh-/-git-配置代理\">Windows 下 SSH / Git 配置代理<a title=\"#windows-下-ssh-/-git-配置代理\" href=\"#windows-下-ssh-/-git-配置代理\"></a></h2>\n<p>在 <code>C:\\Users\\reqwey\\.ssh</code> 目录下新建 <code>config</code> 文件，并写入以下内容：(其中 6666 是代理软件的端口）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Windows用户，注意替换你的端口号和connect.exe的路径</span><br><span class=\"line\">ProxyCommand &quot;D:\\Program Files\\Git\\mingw64\\bin\\connect&quot; -S 127.0.0.1:6666 -a none %h %p</span><br><span class=\"line\"></span><br><span class=\"line\">#MacOS用户用下方这条命令，注意替换你的端口号</span><br><span class=\"line\">#ProxyCommand nc -v -x 127.0.0.1:6666 %h %p</span><br><span class=\"line\"></span><br><span class=\"line\">Host github.com</span><br><span class=\"line\">  User git</span><br><span class=\"line\">  Port 22</span><br><span class=\"line\">  Hostname github.com</span><br><span class=\"line\">  # 注意修改路径为你的路径</span><br><span class=\"line\">  IdentityFile &quot;C:\\Users\\reqwey\\.ssh\\id_rsa&quot;</span><br><span class=\"line\">  TCPKeepAlive yes</span><br><span class=\"line\"></span><br><span class=\"line\">Host ssh.github.com</span><br><span class=\"line\">  User git</span><br><span class=\"line\">  Port 443</span><br><span class=\"line\">  Hostname ssh.github.com</span><br><span class=\"line\">  # 注意修改路径为你的路径</span><br><span class=\"line\">  IdentityFile &quot;C:\\Users\\reqwey\\.ssh\\id_rsa&quot;</span><br><span class=\"line\">  TCPKeepAlive yes</span><br></pre></td></tr></table></figure>\n<h2 id=\"socket.io-server-4.x-遍历已连接的所有-socket\"><a href=\"http://Socket.io\">Socket.io</a> server 4.x 遍历已连接的所有 Socket<a title=\"#socket.io-server-4.x-遍历已连接的所有-socket\" href=\"#socket.io-server-4.x-遍历已连接的所有-socket\"></a></h2>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [id, socket] <span class=\"keyword\">of</span> io.sockets.sockets) &#123;&#125;</span><br></pre></td></tr></table></figure>\n<p>其中 <code>io.sockets.sockets</code> 为 <code>Map</code>。单独取一个需要使用 <code>.get(socket_id)</code> 语法</p>\n<h2 id=\"国内-electron-安装失败\">国内 Electron 安装失败<a title=\"#国内-electron-安装失败\" href=\"#国内-electron-安装失败\"></a></h2>\n<ul>\n<li>使用 <code>yarn install</code> 而不是 <code>npm install</code></li>\n<li>修改 <code>node_modules/electron/install.js</code> 内容如下</li>\n</ul>\n<figure class=\"highlight diff\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">downloadArtifact(&#123;</span><br><span class=\"line\">  version,</span><br><span class=\"line\">  artifactName: &#x27;electron&#x27;,</span><br><span class=\"line\">  force: process.env.force_no_cache <span class=\"comment\">=== &#x27;true&#x27;,</span></span><br><span class=\"line\">  cacheRoot: process.env.electron_config_cache,</span><br><span class=\"line\">  checksums: process.env.electron_use_remote_checksums ? undefined : require(&#x27;./checksums.json&#x27;),</span><br><span class=\"line\"><span class=\"addition\">+ mirrorOptions: &#123;</span></span><br><span class=\"line\"><span class=\"addition\">+   mirror: &#x27;https://cdn.npmmirror.com/binaries/electron/&#x27;</span></span><br><span class=\"line\"><span class=\"addition\">+ &#125;,</span></span><br><span class=\"line\">  platform,</span><br><span class=\"line\">  arch</span><br><span class=\"line\">&#125;).then(extractFile).catch(err =&gt; &#123;</span><br></pre></td></tr></table></figure>\n","prev":{"title":"【Whk Note】各种化学键的强弱","link":"bond-strength"},"next":{"title":"【Solution】ABC 246 Ex. 01? Queries","link":"solution-abc246-ex"},"plink":"https://oi.reqwey.com/dev-utils/","toc":[{"id":"windows-下-ssh-/-git-配置代理","title":"Windows 下 SSH &#x2F; Git 配置代理","index":"1"},{"id":"socket.io-server-4.x-遍历已连接的所有-socket","title":"Socket.io server 4.x 遍历已连接的所有 Socket","index":"2"},{"id":"国内-electron-安装失败","title":"国内 Electron 安装失败","index":"3"}],"copyright":{"link":"<a href=\"https://oi.reqwey.com/dev-utils/\" title=\"开发备忘录\">https://oi.reqwey.com/dev-utils/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International<br>(<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"302 words in 2 min"}